<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Archive - PoorLeaglGuy</title>
    <!-- 核心样式：防止 CDN 失效 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        
        /* 强制覆盖：防止脚本加载前样式崩坏 */
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        /* 导航栏固定位置修复 */
        nav {
            position: fixed !important;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 9999 !important;
            background-color: rgba(255, 255, 255, 0.9);
        }
        @media (prefers-color-scheme: dark) {
            nav { background-color: rgba(0, 0, 0, 0.9); }
        }

        /* 网格布局强制修复 */
        .archive-grid {
            display: grid !important;
            grid-template-columns: 1fr;
            gap: 15px;
            padding: 0 1rem;
        }
        @media (min-width: 1024px) {
            .archive-grid {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 20px;
                padding: 0 1.5rem;
            }
        }

        /* 移动端菜单初始化隐藏 */
        #mobile-menu {
            display: block !important;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: auto;
            transform: translateY(-100%);
            transition: transform 0.4s ease;
            z-index: 9998;
        }
        #mobile-menu.active {
            transform: translateY(0);
        }

        /* 分页按钮禁用状态 */
        .page-btn:disabled {
            opacity: 0.05 !important;
            cursor: not-allowed !important;
        }

        ::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="bg-white text-black dark:bg-black dark:text-white min-h-screen flex flex-col">

    <!-- 
      【小白更新指南】
      1. 修改网站标题：修改 NAVBAR_CONFIG 里的 leftText。
      2. 修改导航链接：修改 NAVBAR_CONFIG 里的 links 数组。
      3. 添加图片：在 ARCHIVE_DATA 数组中添加新项。
    -->

    <script>
        // --------------------------------------------------
        // 1. 样式配置
        // --------------------------------------------------
        const STYLE_CONFIG = {
            logoSize: "text-lg md:text-xl", 
            logoWeight: "font-bold",
            navTextSize: "text-[11px] md:text-xs",
            navLetterSpacing: "tracking-widest",
            itemTitleSize: "text-[11px] md:text-xs",
            itemsPerPage: 10 // 每页显示数量
        };

        // --------------------------------------------------
        // 2. 导航链接
        // --------------------------------------------------
        const NAVBAR_CONFIG = {
            leftText: "PoorLeaglGuy",
            leftLink: "https://neuepoor.com", 
            links: [
                { name: "Category",   url: "https://neuepoor.com/library/" },
                { name: "ApparEdit",  url: "index.html" },
                { name: "INFO",       url: "https://neuepoor.com/contacts/" }
            ]
        };

        // --------------------------------------------------
        // 3. 数据池 (系统会自动分页，放心往里加)
        // --------------------------------------------------
        const ARCHIVE_DATA = [
            { id: 16, title: "ITEM 016", link: "#", img: "https://cdn.neuepoor.com/apparedit/image-035296a5-5b03-42bd-91b5-4fb17d40b48c.webp" },
            { id: 15, title: "ITEM 015", link: "#", img: "https://cdn.neuepoor.com/apparedit/image-035296a5-5b03-42bd-91b5-4fb17d40b48c.webp" },
            { id: 14, title: "ITEM 014", link: "#", img: "https://placehold.co/1200x1600/eeeeee/999999?text=14" },
            { id: 13, title: "ITEM 013", link: "#", img: "https://placehold.co/1200x1600/eeeeee/999999?text=13" },
            { id: 1, title: "ITEM 001", link: "#", img: "https://placehold.co/1200x1600/eeeeee/999999?text=1" },
            { id: 2, title: "ITEM 002", link: "#", img: "https://placehold.co/1200x1600/dddddd/888888?text=2" },
            { id: 3, title: "ITEM 003", link: "#", img: "https://placehold.co/1200x1600/cccccc/777777?text=3" },
            { id: 4, title: "ITEM 004", link: "#", img: "https://placehold.co/1200x1600/bbbbbb/666666?text=4" },
            { id: 5, title: "ITEM 005", link: "#", img: "https://placehold.co/1200x1600/aaaaaa/555555?text=5" },
            { id: 6, title: "ITEM 006", link: "#", img: "https://placehold.co/1200x1600/999999/444444?text=6" },
            { id: 7, title: "ITEM 007", link: "#", img: "https://placehold.co/1200x1600/888888/333333?text=7" },
            { id: 8, title: "ITEM 008", link: "#", img: "https://placehold.co/1200x1600/777777/222222?text=8" },
            { id: 9, title: "ITEM 009", link: "#", img: "https://placehold.co/1200x1600/777777/222222?text=9" }
        ];

        let currentPage = 1;
    </script>

    <!-- 导航栏 -->
    <nav class="px-4 py-4 md:px-6 md:py-6">
        <div class="flex justify-between items-center max-w-full">
            <a id="nav-brand-link" href="#" class="no-underline text-current">
                <div id="nav-brand" class="uppercase tracking-tighter whitespace-nowrap"></div>
            </a>
            
            <div class="flex items-center">
                <!-- PC端链接 -->
                <div id="desktop-links" class="hidden md:flex gap-10 uppercase items-center"></div>
                
                <!-- 移动端汉堡包 -->
                <button id="menu-toggle" class="md:hidden flex flex-col gap-1.5 focus:outline-none p-2 relative z-[10000]">
                    <span class="w-5 h-px bg-current transition-all"></span>
                    <span class="w-5 h-px bg-current transition-all"></span>
                </button>
            </div>
        </div>
    </nav>

    <!-- 移动端菜单内容 -->
    <div id="mobile-menu" class="bg-white dark:bg-black pt-24 pb-12 px-4 border-b border-zinc-100 dark:border-zinc-900 md:hidden">
        <div id="mobile-links" class="flex flex-col gap-6 uppercase"></div>
    </div>

    <!-- 存档网格主体 -->
    <main id="archive-container" class="archive-grid mt-24 md:mt-32 flex-grow">
        <!-- JS 渲染内容 -->
    </main>

    <!-- 页脚：版权 + 分页 -->
    <footer class="mt-20 mb-12 flex justify-between items-center px-4 md:px-6 border-t border-zinc-100 dark:border-zinc-900 pt-8">
        <div class="text-[9px] uppercase tracking-[0.2em] text-gray-400 dark:text-zinc-600">
            &copy; <span id="year"></span> PoorLeaglGuy Archive
        </div>
        
        <div id="pagination-ui" class="flex items-center gap-6">
            <button onclick="prevPage()" id="prev-btn" class="page-btn p-2 hover:opacity-40 transition-opacity"></button>
            <span id="page-info" class="text-[10px] tracking-widest opacity-40 uppercase"></span>
            <button onclick="nextPage()" id="next-btn" class="page-btn p-2 hover:opacity-40 transition-opacity"></button>
        </div>
    </footer>

    <script>
        const menuBtn = document.getElementById('menu-toggle');
        const menuContent = document.getElementById('mobile-menu');

        function toggleMenu() {
            menuContent.classList.toggle('active');
            const spans = menuBtn.querySelectorAll('span');
            spans[0].classList.toggle('rotate-45');
            spans[0].classList.toggle('translate-y-1');
            spans[1].classList.toggle('-rotate-45');
            spans[1].classList.toggle('-translate-y-px');
        }

        function renderGallery() {
            const container = document.getElementById('archive-container');
            container.innerHTML = ""; 

            const start = (currentPage - 1) * STYLE_CONFIG.itemsPerPage;
            const end = start + STYLE_CONFIG.itemsPerPage;
            const pageData = ARCHIVE_DATA.slice(start, end);

            pageData.forEach(item => {
                const card = `
                    <a href="${item.link}" class="group block no-underline text-current mb-8">
                        <div class="aspect-[3/4] overflow-hidden bg-zinc-50 dark:bg-zinc-900">
                            <img src="${item.img}" alt="${item.title}" loading="lazy"
                                 class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700 ease-in-out opacity-90 group-hover:opacity-100 scale-100 group-hover:scale-[1.01]">
                        </div>
                        <div class="py-4 uppercase ${STYLE_CONFIG.itemTitleSize} tracking-widest font-medium">
                            <span>${item.title}</span>
                        </div>
                    </a>
                `;
                container.insertAdjacentHTML('beforeend', card);
            });
            updatePagination();
        }

        function updatePagination() {
            const totalPages = Math.ceil(ARCHIVE_DATA.length / STYLE_CONFIG.itemsPerPage);
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const pageInfo = document.getElementById('page-info');

            prevBtn.innerText = "<";
            nextBtn.innerText = ">";
            
            const btnClass = `page-btn hover:opacity-40 transition-opacity ${STYLE_CONFIG.navTextSize} ${STYLE_CONFIG.navLetterSpacing}`;
            prevBtn.className = btnClass;
            nextBtn.className = btnClass;

            prevBtn.disabled = currentPage === 1;
            nextBtn.disabled = currentPage === totalPages || totalPages === 0;
            pageInfo.innerText = totalPages > 0 ? `${currentPage} / ${totalPages}` : "0 / 0";
        }

        function prevPage() {
            if (currentPage > 1) {
                currentPage--;
                renderGallery();
                window.scrollTo({top: 0, behavior: 'instant'});
            }
        }

        function nextPage() {
            const totalPages = Math.ceil(ARCHIVE_DATA.length / STYLE_CONFIG.itemsPerPage);
            if (currentPage < totalPages) {
                currentPage++;
                renderGallery();
                window.scrollTo({top: 0, behavior: 'instant'});
            }
        }

        function initApp() {
            const brand = document.getElementById('nav-brand');
            const brandLink = document.getElementById('nav-brand-link');
            const desktopLinks = document.getElementById('desktop-links');
            const mobileLinks = document.getElementById('mobile-links');

            brand.className = `${STYLE_CONFIG.logoSize} ${STYLE_CONFIG.logoWeight}`;
            brand.innerText = NAVBAR_CONFIG.leftText;
            brandLink.href = NAVBAR_CONFIG.leftLink;

            NAVBAR_CONFIG.links.forEach(link => {
                // PC
                const dLink = document.createElement('a');
                dLink.href = link.url;
                dLink.innerText = link.name;
                dLink.className = `hover:opacity-40 transition-opacity no-underline text-current ${STYLE_CONFIG.navTextSize} ${STYLE_CONFIG.navLetterSpacing}`;
                desktopLinks.appendChild(dLink);

                // Mobile
                const mLink = document.createElement('a');
                mLink.href = link.url;
                mLink.innerText = link.name;
                mLink.className = `no-underline text-current ${STYLE_CONFIG.navTextSize} ${STYLE_CONFIG.navLetterSpacing} py-2`;
                mLink.onclick = toggleMenu;
                mobileLinks.appendChild(mLink);
            });

            renderGallery();
            document.getElementById('year').innerText = new Date().getFullYear();
        }

        menuBtn.addEventListener('click', toggleMenu);
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>